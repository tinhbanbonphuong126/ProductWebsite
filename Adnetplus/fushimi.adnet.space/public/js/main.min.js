var Animation,AnimationManager,Fukidashi,Main,RangeAnimation,Scene,__bind=function(a,b){return function(){return a.apply(b,arguments)}};Scene=function(){function a(a){this.target=a,this.tweens=[]}return a.prototype.addAnimation=function(a){this.tweens.push(a)},a.prototype.render=function(){var a,b,c,d;for(c=this.tweens.length,b=d=0;c>d;b=d+=1)a=this.tweens[b],a.render()},a}(),Animation=function(){function a(a,b,c){this.point=a,this.tl=b,this.reverse_start=void 0===c?!1:!0,this.state="off"}return a.prototype.play=function(){this.tl&&(1!==this.tl.progress()&&this.tl.play(),this.state="on")},a.prototype.render=function(){AnimationManager.target_top()>this.point&&"off"===this.state&&this.play()},a}(),RangeAnimation=function(){function a(a,b,c){this.base_point=a,this.point=b,this.tl=c}return a.prototype.render=function(){var a,b,c;c=this.point.s+this.base_point,a=this.point.e+this.base_point,b=(AnimationManager.target_top()-c)/(a-c),0>b?b=0:b>1&&(b=1),this.tl.progress(b)},a}(),Fukidashi=function(){function a(a){this.update=__bind(this.update,this),this.target=a,this.set_num=this.target.find(".f-inner").length,this.current_no=0,this.timer=setInterval(this.update,3e3)}return a.prototype.update=function(){var a,b;a=this.target.find(".f-inner:eq("+this.current_no+")"),a.stop(!0,!0).fadeOut(800),this.current_no=this.current_no<this.set_num-1?this.current_no+1:0,b=this.target.find(".f-inner:eq("+this.current_no+")"),b.stop(!0,!0).fadeIn(800)},a}(),AnimationManager=function(){var a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y;return b=.1,a=30,j=y=0,d=0,s=q=k=l=m=n=o=p=r=null,f=!1,g=110,e=function(){f&&$("body").append('<p class="debug"></p>'),u(),j=void 0!==$(this).scrollTop()?$(this).scrollTop():0,$(window).scroll(h),window.requestAF=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(b){window.setTimeout(b,1e3/a)}}(),i()},u=function(){x(),t(),v(),w()},x=function(){var a,b,c,d,e,f,g,h,i;for(s=new Scene($("#top")),h=[],f=i=1;12>=i;f=i+=1)a=$("#top .bg .c"+f),b=a.attr("class"),c=0,-1!==b.indexOf("1_")?c=250:-1!==b.indexOf("2_")?c=150:-1!==b.indexOf("3_")&&(c=50),d=a.css("top"),d=parseInt(d),e=d-c,h.push(TweenLite.to(a,.8,{css:{top:e},ease:Sine.easeOut}));g=new TimelineLite({paused:!0}),g.appendMultiple(h),s.addAnimation(new RangeAnimation(0,{s:0,e:768},g))},t=function(){var a,b,c,d,e,f,g;for(q=new Scene($("#about")),e=[],b=f=0;6>f;b=f+=1)c=$("#about p.text:eq("+b+")"),e.push(TweenLite.to(c,.8,{delay:.05*b,css:{opacity:1},ease:Sine.easeOut}));for(b=g=0;4>g;b=g+=1)a=$("#about .f"+(b+1)),e.push(TweenLite.to(a,.8,{delay:1+.2*b,css:{opacity:1},ease:Sine.easeOut}));d=new TimelineLite({paused:!0}),d.appendMultiple(e),q.addAnimation(new RangeAnimation(100,{s:0,e:1400},d))},v=function(){var a,b,c,d,e,f,g,h,i,j,k,l;for(r=new Scene($("#campus")),j=[],g=[-2,365,420,598],f=[200,100,300,150],h=k=0;4>k;h=k+=1)a=$("#campus .circle:eq("+h+")"),a.css("top",g[h]+f[h]),j.push(TweenLite.to(a,.8,{delay:.05*h,css:{autoAlpha:1,top:g[h]},ease:Sine.easeOut}));for(h=l=1;12>=l;h=l+=1)a=$("#campus .bg .c"+h),b=a.attr("class"),c=0,-1!==b.indexOf("1_")?c=250:-1!==b.indexOf("2_")?c=150:-1!==b.indexOf("3_")&&(c=50),d=a.css("top"),d=parseInt(d),e=d-c,j.push(TweenLite.to(a,.8,{css:{top:e},ease:Sine.easeOut}));i=new TimelineLite({paused:!0}),i.appendMultiple(j),r.addAnimation(new RangeAnimation(7450,{s:0,e:800},i))},w=function(){var a,b,c,d,e,f,g;k=new Scene($("#s1")),a=new TimelineMax({paused:!0}),a.appendMultiple([TweenMax.to($("#s1 .sprite"),.8,{backgroundPosition:"-1904px 0",ease:SteppedEase.config(14)})]),k.addAnimation(new RangeAnimation(1750,{s:0,e:500},a)),l=new Scene($("#s2")),b=new TimelineMax({paused:!0}),b.appendMultiple([TweenMax.to($("#s2 .sprite"),.8,{backgroundPosition:"-1360px 0",ease:SteppedEase.config(8)})]),l.addAnimation(new RangeAnimation(2550,{s:0,e:500},b)),m=new Scene($("#s3")),c=new TimelineMax({paused:!0}),c.appendMultiple([TweenMax.to($("#s3 .sprite"),.8,{backgroundPosition:"-3345px 0",ease:SteppedEase.config(15)})]),m.addAnimation(new RangeAnimation(3350,{s:0,e:500},c)),n=new Scene($("#s4")),d=new TimelineMax({paused:!0}),d.appendMultiple([TweenMax.to($("#s4 .sprite"),.8,{backgroundPosition:"-14560px 0",ease:SteppedEase.config(28)})]),n.addAnimation(new RangeAnimation(4150,{s:0,e:500},d)),o=new Scene($("#s5")),e=new TimelineMax({paused:!0}),e.appendMultiple([TweenMax.to($("#s5 .sprite"),.8,{backgroundPosition:"-1020px 0",ease:SteppedEase.config(10)})]),o.addAnimation(new RangeAnimation(5050,{s:0,e:200},e)),p=new Scene($("#s6")),g=[TweenLite.to($("#s6 .c1 .mask"),1,{css:{width:"100%"},ease:Sine.easeOut}),TweenLite.to($("#s6 .c2 .mask"),1,{delay:1,css:{width:"100%"},ease:Sine.easeOut}),TweenLite.to($("#s6 .c3 .mask"),1,{delay:2,css:{width:"100%"},ease:Sine.easeOut}),TweenLite.to($("#s6 .a1 .mask"),1,{delay:.5,css:{width:"100%"},ease:Sine.easeOut}),TweenLite.to($("#s6 .a2 .mask"),1.8,{delay:1.5,css:{width:"100%"},ease:Sine.easeOut}),TweenLite.to($("#s6 .a3 .mask"),.7,{delay:2,css:{height:"100%"},ease:Sine.easeOut}),TweenLite.to($("#s6 .a4 .mask"),.7,{delay:2.7,css:{width:"100%"},ease:Sine.easeOut}),TweenLite.to($("#s6 .a5 .mask"),.7,{delay:3.4,css:{height:"100%"},ease:Sine.easeOut})],f=new TimelineLite({paused:!0}),f.appendMultiple(g),p.addAnimation(new RangeAnimation(5750,{s:0,e:350},f))},h=function(){j=$(this).scrollTop()},i=function(){var a,d;d=y,a=j,y+=Math.floor((a-d)*b),0>=y&&(y=0),s.render(),q.render(),r.render(),k.render(),l.render(),m.render(),n.render(),o.render(),p.render(),requestAF(i),j>=0&&658-g>j?c(0):j>=658-g&&2257-g>j?c(1):j>=2257-g&&3025-g>j?c(2):j>=3025-g&&3793-g>j?c(3):j>=3793-g&&4561-g>j?c(4):j>=4561-g&&5329-g>j?c(5):j>=5329-g&&6750-g>j?c(6):j>=6750-g&&8300-g>j?c(7):j>=8300-g&&c(8)},c=function(a){return function(b){var c,e,f,g;if(a.no=b,a.no!==d)for(d=a.no,e=g=0;9>g;e=g+=1)f=$("#nav li:eq("+e+")"),c=f.find("a"),e===a.no?c.addClass("current"):c.removeClass("current")}}(this),{init:e,target_top:function(){return y}}}(),Main=function(){var a,b,c,d,e,f,g,h,i,j;return i=j=null,f=e=!1,d=!1,c=function(){var c,e,f,i,j,k,l,m,n;if(b(),c=new Fukidashi($("#s1 .fukidashi")),e=new Fukidashi($("#s2 .fukidashi")),f=new Fukidashi($("#s3 .fukidashi")),i=new Fukidashi($("#s4 .fukidashi")),j=new Fukidashi($("#s5 .fukidashi")),d)for(k=n=0;5>n;k=n+=1)m=$("#top .circle div:eq("+k+")"),m.addClass("ie"),l=m.find("a");$(".subject .button a").colorbox(),$(".subject .button a").each(function(){return $(this).attr("alt",this.title?this.title:"")}),$("#nav li:eq(0) a").addClass("current"),$("#nav li").hover(function(){var a;a=$(this).find("img"),TweenLite.to(a,.3,{css:{left:0},ease:Cubic.easeOut})},function(){var a;a=$(this).find("img"),TweenLite.to(a,.3,{css:{left:"100%"},ease:Cubic.easeIn})}),$("a[href^=#]").click(function(){var a,b,c,d;return c=500,a=$(this).attr("href"),d=$("#"===a||(""===a?"html":a)),b=-1!==a.indexOf("about")?d.offset().top-110:d.offset().top,b=Math.ceil(b),$("html, body").animate({scrollTop:b},c,"swing"),!1}),$(".on").rollover(),$(".tap").hover(function(){$(this).prev(".comment").stop(!0,!0).fadeIn(200)},function(){$(this).prev(".comment").stop(!0,!0).fadeOut(200)}),h(),a(),g()},a=function(){$("#about .f1").bind("textresize",function(){h()})},h=function(){var a,b;a=$("#about .f2 p").height(),a=parseInt(a)+120,b=$("#about .f4 p").height(),b=parseInt(b)+120,$("#about .f1").css("height",a),$("#about .f2").css("height",a),$("#about .f3").css("height",b),$("#about .f4").css("height",b)},b=function(){var a;j=location.pathname,-1!==j.indexOf("/sp")&&(f=!0),i=window.navigator.userAgent.toLowerCase(),(-1!==i.indexOf("iphone")||-1!==i.indexOf("ipod")||-1!==i.indexOf("ipad")||-1!==i.indexOf("android"))&&(e=!0),a=window.navigator.appVersion.toLowerCase(),-1!==i.indexOf("msie")&&-1!==a.indexOf("msie 8.")&&(d=!0),!f&&e?location.href="../sp/ae/":f&&!e&&(location.href="../../ae/")},g=function(){var a,b,c,d,e,f;for(e=f=0;5>f;e=++f)d=$(".subject:eq("+e+")"),b=d.find(".left"),c=d.find(".right"),a=0,e%2===0?(a=b.outerHeight(),c.css("height",a)):(a=c.outerHeight(),b.css("height",a))},{init:c}}(),$(function(){Main.init(),AnimationManager.init()});